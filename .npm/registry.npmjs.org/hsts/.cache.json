{"_id":"hsts","_rev":"7-2812f9b65cca61bf740b5f8bbd3ff969","name":"hsts","description":"HTTP Strict Transport Security middleware.","dist-tags":{"latest":"0.2.0"},"versions":{"0.1.0":{"name":"hsts","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"description":"HTTP Strict Transport Security middleware.","version":"0.1.0","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"scripts":{"test":"mocha"},"devDependencies":{"mocha":"^2.0.1","sinon":"^1.11.1"},"dependencies":{"underscore":"1.7.0"},"gitHead":"5ef8c20a86706ba8c52e514ec522cc1865bc9502","homepage":"https://github.com/helmetjs/hsts","_id":"hsts@0.1.0","_shasum":"0869ab8886767ec7fa7a107cb311554babbf700a","_from":".","_npmVersion":"1.4.28","_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"dist":{"shasum":"0869ab8886767ec7fa7a107cb311554babbf700a","tarball":"http://registry.npmjs.org/hsts/-/hsts-0.1.0.tgz"},"directories":{}},"0.1.1":{"name":"hsts","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"description":"HTTP Strict Transport Security middleware.","version":"0.1.1","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"scripts":{"test":"mocha"},"devDependencies":{"mocha":"^2.2.1","sinon":"^1.14.1"},"dependencies":{"lodash":"3.5.0"},"gitHead":"b57770e51c54fa3bedb8cd97abb3372006c0a5da","homepage":"https://github.com/helmetjs/hsts","_id":"hsts@0.1.1","_shasum":"b7d7e374893d040efc7781e8505f3f6a4b007f8d","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"dist":{"shasum":"b7d7e374893d040efc7781e8505f3f6a4b007f8d","tarball":"http://registry.npmjs.org/hsts/-/hsts-0.1.1.tgz"},"directories":{}},"0.1.2":{"name":"hsts","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"description":"HTTP Strict Transport Security middleware.","version":"0.1.2","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"scripts":{"test":"mocha"},"devDependencies":{"mocha":"^2.2.1","sinon":"^1.14.1"},"dependencies":{"core-util-is":"1.0.1"},"gitHead":"295b2780145bec2d288a68b1c6e523d136fc5311","homepage":"https://github.com/helmetjs/hsts","_id":"hsts@0.1.2","_shasum":"56e3422703f64264b106aeb6817496dcf71ba4fa","_from":".","_npmVersion":"2.7.4","_nodeVersion":"0.12.2","_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"dist":{"shasum":"56e3422703f64264b106aeb6817496dcf71ba4fa","tarball":"http://registry.npmjs.org/hsts/-/hsts-0.1.2.tgz"},"directories":{}},"0.1.3":{"name":"hsts","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"description":"HTTP Strict Transport Security middleware.","version":"0.1.3","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"scripts":{"test":"mocha"},"devDependencies":{"mocha":"^2.2.1","sinon":"^1.14.1"},"dependencies":{"core-util-is":"1.0.1"},"gitHead":"d9deb6a59940f1d4dc42168e7bf721f23e96931f","homepage":"https://github.com/helmetjs/hsts#readme","_id":"hsts@0.1.3","_shasum":"be84997e93d58898b6251e14cbb6eac159834bfd","_from":".","_npmVersion":"2.11.0","_nodeVersion":"0.12.4","_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"dist":{"shasum":"be84997e93d58898b6251e14cbb6eac159834bfd","tarball":"http://registry.npmjs.org/hsts/-/hsts-0.1.3.tgz"},"directories":{}},"0.2.0":{"name":"hsts","author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"description":"HTTP Strict Transport Security middleware.","version":"0.2.0","license":"MIT","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"scripts":{"test":"mocha"},"devDependencies":{"mocha":"^2.2.1","sinon":"^1.14.1"},"dependencies":{"core-util-is":"1.0.1"},"gitHead":"45884806d7fa19ef4eb95c47e33289cbba5b7000","homepage":"https://github.com/helmetjs/hsts#readme","_id":"hsts@0.2.0","_shasum":"8dbc4957783cecfad4243bdf846aecc375836bc5","_from":".","_npmVersion":"2.14.3","_nodeVersion":"4.1.0","_npmUser":{"name":"evanhahn","email":"me@evanhahn.com"},"dist":{"shasum":"8dbc4957783cecfad4243bdf846aecc375836bc5","tarball":"http://registry.npmjs.org/hsts/-/hsts-0.2.0.tgz"},"maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"directories":{}}},"readme":"# HTTP Strict Transport Security middlware\n\n[![Build Status](https://travis-ci.org/helmetjs/hsts.svg?branch=master)](https://travis-ci.org/helmetjs/hsts)\n\n**Trying to prevent:** Users viewing your site on HTTP instead of HTTPS. HTTP is pretty insecure.\n\n**How this mitigates this:** This middleware adds the `Strict-Transport-Security` header to the response. This tells browsers, \"hey, only use HTTPS for the next period of time\". ([See the spec](http://tools.ietf.org/html/draft-ietf-websec-strict-transport-sec-04) for more.)\n\nThis will set the Strict Transport Security header, telling browsers to visit by HTTPS for the next ninety days:\n\n```javascript\nvar hsts = require('hsts');\n\nvar ninetyDaysInMilliseconds = 7776000000;\napp.use(hsts({ maxAge: ninetyDaysInMilliseconds }));\n```\n\nYou can also include subdomains. If this is set on *example.com*, supported browsers will also use HTTPS on *my-subdomain.example.com*. Here's how you do that:\n\n```javascript\napp.use(hsts({\n  maxAge: 123000,\n  includeSubDomains: true\n}));\n```\n\nChrome lets you submit your site for baked-into-Chrome HSTS by adding `preload` to the header. You can add that with the following code, and then submit your site to the Chrome team at [hstspreload.appspot.com](https://hstspreload.appspot.com/).\n\n```javascript\napp.use(hsts({\n  maxAge: 10886400000,     // Must be at least 18 weeks to be approved by Google\n  includeSubDomains: true, // Must be enabled to be approved by Google\n  preload: true\n}));\n```\n\nThis'll be set if `req.secure` is true, a boolean auto-populated by Express. If you're not using Express, that value won't necessarily be set, so you have two options:\n\n```javascript\n// Set the header based on conditions\napp.use(hsts({\n  maxAge: 1234000,\n  setIf: function(req, res) {\n    return Math.random() < 0.5;\n  }\n}));\n\n// ALWAYS set the header\napp.use(hsts({\n  maxAge: 1234000,\n  force: true\n}));\n```\n\nNote that the max age is in milliseconds, even though the spec uses seconds. This will round to the nearest full second.\n\n**Limitations:** This only works if your site actually has HTTPS. It won't tell users on HTTP to *switch* to HTTPS, it will just tell HTTPS users to stick around. You can enforce this with the [express-enforces-ssl](https://github.com/aredo/express-enforces-ssl) module. It's [somewhat well-supported by browsers](http://caniuse.com/#feat=stricttransportsecurity).\n","maintainers":[{"name":"evanhahn","email":"me@evanhahn.com"}],"time":{"modified":"2015-09-22T19:09:18.621Z","created":"2014-10-28T14:18:30.827Z","0.1.0":"2014-10-28T14:18:30.827Z","0.1.1":"2015-03-23T15:53:28.188Z","0.1.2":"2015-04-22T00:22:50.648Z","0.1.3":"2015-06-02T21:52:26.016Z","0.2.0":"2015-09-22T19:09:18.621Z"},"homepage":"https://github.com/helmetjs/hsts#readme","keywords":["helmet","security","express","connect","hsts","https"],"repository":{"type":"git","url":"git://github.com/helmetjs/hsts.git"},"contributors":[{"name":"Evan Hahn","email":"me@evanhahn.com","url":"http://evanhahn.com"}],"author":{"name":"Adam Baldwin","email":"baldwin@andyet.net","url":"http://andyet.net/team/baldwin"},"bugs":{"url":"https://github.com/helmetjs/hsts/issues"},"readmeFilename":"README.md","license":"MIT","_attachments":{},"_etag":"\"8HHVINWXPGK3916N5VV3GJQWZ\""}